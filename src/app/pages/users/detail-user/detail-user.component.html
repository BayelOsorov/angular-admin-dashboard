<nb-card *ngIf="userData" class="user-detail">
    <nb-card-header
        *ngIf="userData && userData.identificationInformation"
        class="text-center"
        >{{
            userData.identificationInformation.surname +
                ' ' +
                userData.identificationInformation.name +
                ' ' +
                userData.identificationInformation.patronymic
        }}</nb-card-header
    >
    <nb-card-body>
        <nb-tabset>
            <nb-tab tabTitle="Персональные данные">
                <ngx-users-personal-info
                    [userData]="userData"
                    (getUserDetail)="getUserDetail($event)"
                >
                </ngx-users-personal-info>
            </nb-tab>
            <nb-tab
                [disabled]="!userData?.identificationInformation"
                tabTitle="Идентификация"
            >
                <nb-card>
                    <nb-card-header>Идентификация клиента</nb-card-header>
                    <nb-card-body>
                        <div
                            *ngIf="
                                userData && userData.identificationInformation
                            "
                            class="detail-images row"
                        >
                            <ngx-lightbox-img
                                class="col-6 col-sm-3"
                                [imgUrl]="
                                    userData.identificationInformation
                                        .passportFrontSideImage
                                "
                            ></ngx-lightbox-img>

                            <ngx-lightbox-img
                                class="col-6 col-sm-3"
                                [imgUrl]="
                                    userData.identificationInformation
                                        .passportBackSideImage
                                "
                            ></ngx-lightbox-img>
                            <ngx-lightbox-img
                                class="col-6 col-sm-3"
                                [imgUrl]="
                                    userData.identificationInformation
                                        .selfieWithPassportImage
                                "
                            ></ngx-lightbox-img>
                            <ngx-lightbox-img
                                class="col-6 col-sm-3"
                                [imgUrl]="
                                    userData.identificationInformation
                                        .profileImage
                                "
                            ></ngx-lightbox-img>
                        </div>
                        <div
                            *ngIf="videos && videos.length > 0"
                            class="detail-images row mt-3"
                        >
                            <video
                                *ngFor="let item of videos"
                                controls
                                class="col-6 col-sm-3"
                                [src]="item.url | useHttpImgSrc"
                            ></video>
                        </div>
                    </nb-card-body>
                </nb-card>
            </nb-tab>
            <nb-tab
                [disabled]="!userData?.identificationInformation"
                tabTitle="Продукт '0-0-3'"
            >
                <ngx-loan-application-user-detail
                    [userData]="userData"
                    [kibData]="loanApplKibData"
                ></ngx-loan-application-user-detail>
            </nb-tab>

            <nb-tab
                [disabled]="!userData?.identificationInformation"
                tabTitle="Продукт 'Топливная карта'"
            >
                <ngx-fuel-card-user-detail
                    [userData]="userData"
                    [kibData]="fuelCardApplKibData"
                ></ngx-fuel-card-user-detail>
            </nb-tab>
        </nb-tabset>
    </nb-card-body>
</nb-card>
